--// Mobile Ball Launch & Camera Follow Script
-- Put this LocalScript under StarterPlayerScripts

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Debris = game:GetService("Debris")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera
local char = player.Character or player.CharacterAdded:Wait()

-- Create GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BallControlGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local shootBtn = Instance.new("TextButton")
shootBtn.Name = "ShootButton"
shootBtn.Size = UDim2.new(0.2, 0, 0.1, 0)
shootBtn.Position = UDim2.new(0.75, 0, 0.85, 0)
shootBtn.Text = "Shoot Ball"
shootBtn.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
shootBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
shootBtn.TextScaled = true
shootBtn.Font = Enum.Font.GothamBold
shootBtn.BorderSizePixel = 0
shootBtn.Parent = screenGui
shootBtn.AutoButtonColor = true
shootBtn.ClipsDescendants = true
shootBtn.AnchorPoint = Vector2.new(0, 0)
shootBtn.ZIndex = 2

-- Optional corner rounding
local uicorner = Instance.new("UICorner")
uicorner.CornerRadius = UDim.new(0.2, 0)
uicorner.Parent = shootBtn

-- Launch + camera follow settings
local LAUNCH_FORCE = 150
local CAMERA_FOLLOW_TIME = 2.5 -- seconds
local BALL_NAME = "Ball"

-- Launch ball + follow camera
local function shootBall()
	local ball = workspace:FindFirstChild(BALL_NAME)
	if not ball or not ball:IsA("BasePart") then
		warn("Ball not found in workspace")
		return
	end

	local lookVector = camera.CFrame.LookVector

	-- Apply velocity to the ball
	local velocity = Instance.new("BodyVelocity")
	velocity.Velocity = lookVector * LAUNCH_FORCE
	velocity.MaxForce = Vector3.new(1e6, 1e6, 1e6)
	velocity.P = 5000
	velocity.Parent = ball
	Debris:AddItem(velocity, 0.5)

	-- Camera follow
	camera.CameraType = Enum.CameraType.Scriptable
	local connection
	connection = RunService.RenderStepped:Connect(function()
		if not ball then return end
		local camPos = ball.Position - (lookVector * 10) + Vector3.new(0, 5, 0)
		camera.CFrame = CFrame.new(camPos, ball.Position)
	end)

	-- Restore camera after delay
	task.delay(CAMERA_FOLLOW_TIME, function()
		if connection then connection:Disconnect() end
		camera.CameraType = Enum.CameraType.Custom
		camera.CameraSubject = char:FindFirstChild("Humanoid")
	end)
end

-- Bind button to function
shootBtn.MouseButton1Click:Connect(shootBall)
